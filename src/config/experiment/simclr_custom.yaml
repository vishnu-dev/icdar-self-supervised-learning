# @package _global_

paths:
  icdar_root_dir: /home/woody/iwfa/iwfa028h/dev/faps/data/ICDAR2017_CLaMM_Large
  icdar_label_path: /home/woody/iwfa/iwfa028h/dev/faps/data/ICDAR2017_CLaMM_Large/@ICDAR2017_CLaMM_Large.csv

trainer:
  max_epochs: 200
  accelerator: gpu
  strategy:
  train_val_test_split: [0.7, 0.1, 0.2]
  
dataset:
  batch_size: 256

model:
  name: simclr
  learning_rate: 0.0015
  augmentations:
    train:
      
      # Random resized crop
      - _target_: torchvision.transforms.RandomResizedCrop
        size: 224
      
      # Horizontal flip
      - _target_: torchvision.transforms.RandomHorizontalFlip
        p: 0.5
      
      # Random Color Jitter
      - _target_: torchvision.transforms.RandomApply
        transforms:
          - _target_: torchvision.transforms.ColorJitter
            brightness: 0.8
            contrast: 0.8
            saturation: 0.8
            hue: 0.2
        p: 0.8
      
      # Random gaussian blur
      - _target_: torchvision.transforms.RandomApply
        transforms:
          - _target_: torchvision.transforms.GaussianBlur
            kernel_size: 23
        p: 0.5

      # Convert to tensor
      - _target_: torchvision.transforms.ToTensor
      
      # Random erasing
      - _target_: torchvision.transforms.RandomErasing
        p: 0.2
      
      # Random dilation
      - _target_: torchvision.transforms.RandomApply
        transforms:
          - _target_: data.augment.Dilation
            kernel_size: 5
        p: 0.2
      
      # Random erosion
      - _target_: torchvision.transforms.RandomApply
        transforms:
          - _target_: data.augment.Erosion
            kernel_size: 5
        p: 0.2

    online:

      - _target_: torchvision.transforms.RandomResizedCrop
        size: 224
      
      # Horizontal flip
      - _target_: torchvision.transforms.RandomHorizontalFlip
        p: 0.5
      
      # Convert to tensor
      - _target_: torchvision.transforms.ToTensor
